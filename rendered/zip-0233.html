<!DOCTYPE html>
<html>
<head>
    <title>ZIP 233: Network Sustainability Mechanism: Burning</title>
    <meta charset="utf-8" />
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="css/style.css">
</head>
<body>
<pre><code>ZIP: 233
Title: Network Sustainability Mechanism: Burning
Owners: Jason McGee &lt;jason@shieldedlabs.net&gt;
        Zooko Wilcox &lt;zooko@shieldedlabs.net&gt;
        Tomek Piotrowski &lt;tomek@eiger.co&gt;
        Mariusz Pilarek &lt;mariusz@eiger.co&gt;
        Paul Dann &lt;paul@eiger.co&gt;
Original-Authors: Nathan Wilcox
Credits:
Status: Draft
Category: Consensus / Ecosystem
Created: 2023-08-16
License: BSD-2-Clause
Discussions-To: &lt;<a href="https://github.com/zcash/zips/issues/922">https://github.com/zcash/zips/issues/922</a>&gt;</code></pre>
<h1 id="terminology">Terminology</h1>
<p>The key word “MUST” in this document is to be interpreted as
described in BCP 14 <a href="#fn1" class="footnote-ref" id="fnref1"
role="doc-noteref"><sup>1</sup></a> when, and only when, it appears in
all capitals.</p>
<p>The term “network upgrade” in this document is to be interpreted as
described in ZIP 200. <a href="#fn2" class="footnote-ref" id="fnref2"
role="doc-noteref"><sup>2</sup></a></p>
<p>The character § is used when referring to sections of the Zcash
Protocol Specification. <a href="#fn3" class="footnote-ref" id="fnref3"
role="doc-noteref"><sup>3</sup></a></p>
<p>The terms “Mainnet” and “Testnet” are to be interpreted as described
in § 3.12 ‘Mainnet and Testnet’. <a href="#fn4" class="footnote-ref"
id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<p>“ZEC/TAZ” refers to the native currency of Zcash on a given network,
i.e. ZEC on Mainnet and TAZ on Testnet.</p>
<p>“Block Subsidy” - The algorithmic issuance of ZEC/TAZ on block
creation, as defined by consensus. This is split between the miner and
Funding Streams.</p>
<p>“Issuance” - The method by which ZEC/TAZ becomes available for
circulation on the network. [TODO: there is a potential terminology
conflict between this and issuance as defined in ZIP 227.]</p>
<p>“Burning” - The method by which ZEC/TAZ becomes unavailable for
circulation on the network.</p>
<p><span class="math inline">MAX_MONEY</span>, as defined in § 5.3
‘Constants’ <a href="#fn5" class="footnote-ref" id="fnref5"
role="doc-noteref"><sup>5</sup></a>, is the total ZEC/TAZ supply cap
measured in zatoshi, corresponding to 21,000,000 ZEC. This is slightly
larger than the supply cap for the current issuance mechanism, but is
the value used in existing critical consensus checks.</p>
<h1 id="abstract">Abstract</h1>
<p>This ZIP proposes the introduction of a mechanism to voluntarily burn
funds, removing those funds entirely from circulation on the network.
This mechanism, in combination with ZIP 234 <a href="#fn6"
class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> and
ZIP 235 <a href="#fn7" class="footnote-ref" id="fnref7"
role="doc-noteref"><sup>7</sup></a>, comprises a long-term strategy for
the sustainability of the network. We will refer to the combined effects
of these three ZIPs as the “Network Sustainability Mechanism”.</p>
<h1 id="motivation">Motivation</h1>
<p>This mechanism seeks to address concerns about the sustainability of
the network design shared by Bitcoin-like systems:</p>
<ol type="1">
<li><strong>Long Term Consensus Sustainability:</strong> By enabling the
burning of funds, the network gains the ability to create “headroom”
between the chain value and <span class="math inline">MAX_MONEY</span>.
This lays necessary groundwork for extending the block subsidy system,
which currently has a clear final end date.</li>
<li><strong>Benefits to ZEC Holders:</strong> Burning funds reduces the
supply of ZEC, benefiting network users in proportion to their holdings
without requiring them to opt into any scheme, introducing extra risk,
active oversight, or accounting complexity.</li>
</ol>
<h1 id="specification">Specification</h1>
<h2 id="burn-amount">Burn amount</h2>
<p>Each transaction gains a <span class="math inline">burn_amount</span>
property, specifying the value in zatoshis that is burned when the
transaction is mined. The burned value subtracts from the remaining
value in the “transparent transaction value pool” as described in § 3.4
‘Transactions and Treestates’ <a href="#fn8" class="footnote-ref"
id="fnref8" role="doc-noteref"><sup>8</sup></a>.</p>
<p><span class="math inline">burn_amount</span> does not result in an
output being produced in any chain value pool, and therefore from the
point at which the transaction is applied to the global chain state,
<span class="math inline">burn_amount</span> is subtracted from the
issued supply. It is unavailable for circulation on the network at least
through to the end of the block in which the transaction is mined. ZIP
234 <a href="#fn9" class="footnote-ref" id="fnref9"
role="doc-noteref"><sup>9</sup></a> specifies a potential mechanism by
which the burned funds would again become available.</p>
<h2 id="changes-to-zip-230-zip-0230">Changes to ZIP 230 <a href="#fn10"
class="footnote-ref" id="fnref10"
role="doc-noteref"><sup>10</sup></a></h2>
<p>The following field is appended to the Common Transaction Fields of
the v6 transaction format after <code>nExpiryHeight</code> <a
href="#fn11" class="footnote-ref" id="fnref11"
role="doc-noteref"><sup>11</sup></a>:</p>
<table>
<colgroup>
<col style="width: 7%" />
<col style="width: 15%" />
<col style="width: 12%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="header">
<th>Bytes</th>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>8</td>
<td><code>burnAmount</code></td>
<td><code>uint64</code></td>
<td>The value to be burned in this transaction, in zatoshis.</td>
</tr>
</tbody>
</table>
<p>The <span class="math inline">burn_amount</span> of a transaction is
defined to be the value of the <code>burnAmount</code> field if present,
and otherwise 0.</p>
<p>Notes:</p>
<ul>
<li>If both this ZIP and ZIP 2002 are selected for inclusion in the same
Network Upgrade, then the ambiguity in ordering of the fields added by
these ZIPs would need to be resolved.</li>
<li>Older transaction versions can continue to be supported after a
network upgrade, but burning is not possible for these transactions. For
example, NU5 supports both v4 and v5 transaction formats, for both
coinbase and non-coinbase transactions.</li>
</ul>
<h2 id="changes-to-the-zcash-protocol-specification">Changes to the
Zcash Protocol Specification</h2>
<p>Make a change to § 3.4 ‘Transactions and Treestates’ <a href="#fn12"
class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a>
implementing the specification in <a href="#burn-amount">Burn
amount</a>.</p>
<p>In § 7.1 ‘Transaction Encoding and Consensus’ <a href="#fn13"
class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a>,
add:</p>
<blockquote>
<p>[NU7 onward] <span class="math inline">burn_amount</span> MUST be in
the range <span class="math inline">{0..MAX_MONEY}</span>.</p>
</blockquote>
<h2 id="modifications-relative-to-zip-244-zip-0244">Modifications
relative to ZIP 244 <a href="#fn14" class="footnote-ref" id="fnref14"
role="doc-noteref"><sup>14</sup></a></h2>
<p>Relative to the sighash algorithm defined in ZIP 244, the sighash
algorithm that applies to v6 transactions differs by appending the
encoding of <span class="math inline">burn_amount</span> to the Common
Transaction Fields that are the input to the digest in T.1:
<code>header_digest</code> <a href="#fn15" class="footnote-ref"
id="fnref15" role="doc-noteref"><sup>15</sup></a>:</p>
<blockquote>
<pre><code>T.1f: burn_amount (8-byte little-endian burn amount)</code></pre>
</blockquote>
<p>Note: If both this ZIP and ZIP 2002 are selected for inclusion in the
same Network Upgrade, then the ambiguity in ordering of the fields added
by these ZIPs would need to be resolved.</p>
<h2 id="applicability">Applicability</h2>
<p>All of these changes apply identically to Mainnet and Testnet.</p>
<h1 id="rationale">Rationale</h1>
<p>All technical decisions in this ZIP are balanced between the
necessary robustness of the NSM mechanics, and simplicity of
implementation.</p>
<h2 id="new-transaction-field-for-burn-amount">New transaction field for
burn amount</h2>
<p>An explicit value distinguishes the burned ZEC from the transaction
fee. Explicitness also ensures any arithmetic flaws in any
implementations are more likely to be observed and caught
immediately.</p>
<h1 id="deployment">Deployment</h1>
<p>This ZIP is proposed to activate with Network Upgrade 7. <a
href="#fn16" class="footnote-ref" id="fnref16"
role="doc-noteref"><sup>16</sup></a></p>
<h1 id="references">References</h1>
<section id="footnotes" class="footnotes footnotes-end-of-document"
role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p><a
href="https://www.rfc-editor.org/info/bcp14">Information on BCP 14 —
“RFC 2119: Key words for use in RFCs to Indicate Requirement Levels” and
“RFC 8174: Ambiguity of Uppercase vs Lowercase in RFC 2119 Key
Words”</a><a href="#fnref1" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><a href="zip-0200">ZIP 200: Network Upgrade
Mechanism</a><a href="#fnref2" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><a href="protocol/protocol.pdf">Zcash Protocol
Specification, Version 2024.5.1 [NU6] or later</a><a href="#fnref3"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p><a href="protocol/protocol.pdf#networks">Zcash Protocol
Specification, Version 2024.5.1 [NU6]. Section 3.12: Mainnet and
Testnet</a><a href="#fnref4" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p><a href="protocol/protocol.pdf#constants">Zcash Protocol
Specification, Version 2024.5.1 [NU6]. Section 5.3: Constants</a><a
href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p><a href="zip-0234">ZIP 234: Network Sustainability
Mechanism: Issuance Smoothing</a><a href="#fnref6" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p><a href="zip-0235">ZIP 235: Burn 60% of Transaction
Fees</a><a href="#fnref7" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p><a href="protocol/protocol.pdf#transactions">Zcash
Protocol Specification, Version 2024.5.1 [NU6]. Section 3.4:
Transactions And Treestates</a><a href="#fnref8" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p><a href="zip-0234">ZIP 234: Network Sustainability
Mechanism: Issuance Smoothing</a><a href="#fnref9" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p><a href="zip-0230">ZIP 230: Version 6 Transaction
Format</a><a href="#fnref10" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p><a href="zip-0230#transaction-format">ZIP 230: Version
6 Transaction Format. Section ‘Transaction Format’</a><a href="#fnref11"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p><a href="protocol/protocol.pdf#transactions">Zcash
Protocol Specification, Version 2024.5.1 [NU6]. Section 3.4:
Transactions And Treestates</a><a href="#fnref12" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn13"><p><a href="protocol/protocol.pdf#txnconsensus">Zcash
Protocol Specification, Version 2024.5.1 [NU6]. Section 7.1.2
Transaction Consensus Rules</a><a href="#fnref13" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn14"><p><a href="zip-0244">ZIP 244: Transaction Identifier
Non-Malleability</a><a href="#fnref14" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn15"><p><a href="zip-0244#t-1-header-digest">ZIP 244:
Transaction Identifier Non-Malleability. Section T.1:
header_digest</a><a href="#fnref15" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn16"><p><a href="zip-0254">ZIP 254: Deployment of the NU7
Network Upgrade</a><a href="#fnref16" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
</body>
</html>
